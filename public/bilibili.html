<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">

    <link rel="preload" href="https://hzlapollo.us.kg/ttf/XiaolaiMonoSC-without-Hangul-Regular.ttf" as="font" crossorigin>
    <link rel="apple-touch-icon" type="image/png"
        href="https://static.bcmcdn.com/coco/player/unstable/r158rJpByx.image/jpeg?hash=FtXSHESVlIdg5bOCixyXyh3J65So">

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon"
        href="https://static.bcmcdn.com/coco/player/unstable/r158rJpByx.image/jpeg?hash=FtXSHESVlIdg5bOCixyXyh3J65So">

    <link rel="mask-icon" type="image/x-icon"
        href="https://static.bcmcdn.com/coco/player/unstable/r158rJpByx.image/jpeg?hash=FtXSHESVlIdg5bOCixyXyh3J65So"
        color="#111">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <title>Apollo's 黄梓林</title>
    <script>
        function getURL(p){
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(p);
        }

        window.onload = function(){
            const headpicturesrc = getURL('src');
            if(headpicturesrc){
                document.getElementById("headpicture").src=headpicturesrc;
            }else{
                window.location.href="index.html";
            }
        }
    </script>
    <style id="dynamic-style">
        body {
            font-family: 'bilibiliFont', sans-serif;
            margin: 0;
            height: 100vh; /* 使页面高度占满视口 */
            background-image: url('https://s2.loli.net/2024/06/21/euQ48saP7UgMyDr.webp');
            background-size: cover; /* 自动裁剪 */
            background-position: center; /* 居中显示 */
            background-repeat: no-repeat; /* 不重复背景 */
        }
    </style>
    <style>
        @font-face {
            font-family: 'bilibiliFont';
            src: url('/ttf/XiaolaiMonoSC-without-Hangul-Regular.ttf') format('truetype'); /* 注意路径 */
        }
        .inline-block {
            display: inline-block;
        }
        header {
            background-color: #00A1D6;
            color: white;
            padding: 4px; /* 减少内边距 */
            text-align: center;
        }
        nav {
            background-color: #282c34;
            padding: 10px;
        }
        nav ul {
            list-style-type: none;
            padding: 0;
        }
        nav ul li {
            display: inline;
            margin: 0 15px;
        }
        nav ul li a {
            color: white;
            text-decoration: none;
        }
        .container {
            display: flex;
            justify-content: space-between;
            padding: 20px;
        }
        .main-content {
            flex: 3;
            background-color: white;
            padding: 20px;
            margin-right: 40px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            height: 135px; 
            overflow: auto;
        }
        .sidebar {
            flex: 1;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        footer {
            color: white;
            text-align: center;
            padding: 0px;
            position: fixed; /* 固定在页面的指定位置 */
            bottom: 0;      /* 距离底部为0 */
            left: 0;        /* 从左边开始 */
            width: 100%;    /* 宽度占满100% */
            z-index: 1000;  /* 确保在其他内容之上 */
        }
        .profile-pic {
            position: absolute; /* 绝对定位 */
            top: 5px;         /* 距离顶部20像素 */
            right: 10px;       /* 距离右侧20像素 */
            width: 60px;       /* 图片宽度 */
            height: 60px;      /* 图片高度 */
            border-radius: 50%; /* 圆形 */
            overflow: hidden;   /* 超出部分隐藏 */
            border: 2px solid white; /* 白色边框 */
        }
        .profile-pic img {
            width: 100%;       /* 图片宽度填满 */
            height: auto;      /* 自适应高度 */
        }
    </style>
    <style>
        .text {
            opacity: 1;
            will-change: auto;
            transform: none;
            text-shadow: skyblue 2px 2px 1px;
            text-align: center;
            position: relative; /* 使 cursor 和 bottom-text 相对其定位 */
        }

        .inline-block {
            display: inline-block;
        }

        .animate-pulse {
            animation: mio-pulse 0.7s infinite; /* 假设你有定义的动画 */
        }

        .cursor {
            position: absolute;
            right: -10px;
            top: 30%;
            height: 6px;
            width: 6px;
            transform: rotate(75deg);
            background-color: #cc2a5d;
            opacity: 1;
        }

        .cursor::before,
        .cursor::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 100%;
            border-radius: 100px;
            background-color: #cc2a5d;
        }

        .cursor::before {
            transform: translateX(-50%);
        }

        .cursor::after {
            transform: translateY(-50%);
        }

        .bottom-text {
            position: absolute;
            bottom: -20px; /* 根据需要调整 */
            left: 0;
            right: 0;
            display: flex;
            scale: 0.75;
            justify-content: center;
            font-size: 0.75rem; /* text-xs */
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .bottom-text.visible {
            scale: 1; /* !scale-100 */
            opacity: 1; /* !opacity-100 */
        }

        .character {
            display: inline-block;
            white-space: pre;
            transform: translateY(0);
            opacity: 1;
            will-change: auto;
        }

        @keyframes mio-pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
    </style>
    <style>
        /* 主体样式 */
        .container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        /* 模态窗口 */
        .modal {
            display: none; /* 隐藏模态窗口 */
            position: fixed;
            z-index: 1;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%); /* 居中显示 */
            width: 400px; /* 增加宽度 */
            max-width: 90%; /* 限制最大宽度 */
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 10px; /* 圆角 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 阴影效果 */
        }

        /* 模态窗口内容 */
        .modal-content {
            padding: 30px; /* 增加内边距 */
        }

        /* 按钮容器 */
        .button-container {
            display: flex; /* 使用 Flexbox 排列按钮 */
            justify-content: space-between; /* 在两端对齐 */
            margin-top: 20px; /* 上间距 */
        }
        /* 隐藏默认的文件输入 */
        #fileInput {
            display: none; /* 隐藏原生文件输入 */
        }

        /* 自定义文件上传按钮 */
        .custom-file-upload {
            display: inline-block;
            padding: 12px 20px; /* 内边距 */
            border: 1px solid #4CAF50; /* 边框颜色 */
            border-radius: 5px; /* 圆角 */
            background-color: #fff; /* 背景颜色 */
            color: #4CAF50; /* 字体颜色 */
            font-size: 16px; /* 字体大小 */
            cursor: pointer; /* 鼠标样式 */
            transition: background-color 0.3s, transform 0.2s; /* 渐变效果 */
            text-align: center; /* 文本居中 */
            
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 阴影效果 */
        }

        .custom-file-upload:hover {
            background-color: #f1f1f1; /* 悬停背景色 */
            transform: translateY(-2px); /* 向上移动 */
        }
        /* 按钮样式 */
        button {
            background-color: #4CAF50; /* 主色调 */
            color: white; /* 字体颜色 */
            padding: 12px 20px; /* 内边距 */
            border: none; /* 去掉边框 */
            border-radius: 5px; /* 圆角 */
            cursor: pointer; /* 鼠标样式 */
            transition: background-color 0.3s, transform 0.2s; /* 渐变效果 */
            width: 100%; /* 按钮宽度 */
            font-size: 16px; /* 字体大小 */
            text-align: center; /* 文本居中 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 阴影效果 */
        }

        /* 悬停和聚焦效果 */
        button:hover {
            background-color: #45a049; /* 悬停颜色 */
            transform: translateY(-2px); /* 向上移动 */
        }

        button:focus {
            outline: none; /* 去掉聚焦轮廓 */
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.5); /* 聚焦阴影 */
        }
    </style>
</head>
<body>
<!-- 
<header>
    <h1>Apollo</h1>
</heder>
-->
<nav>
    <ul>
        <li><a href="#" id="home" onclick="ChangBackPicture()">首页</a></li>
        <li><a href="https://qm.qq.com/q/CW8O2hV6L0">加入我的QQ群</a></li>
        <li><a href="/xiaoxue.html">小学纪念页</a></li>
        <li><a href="/mingxie.html">鸣谢合作人物</a></li>
        <li><a href="/chunwan/">点击看春晚</a></li>
        <li><a href="#">科技</a></li>
        <li><a href="#">鬼畜</a></li>
        <li><a href="#">影视</a></li>
        <li><a href="#">生活</a></li>
    </ul>
</nav>

<div class="container">
    <div class="main-content">
        <h2>欢迎来到 黄**的家</h2>
        <p  class="text" id="get_text">...</p>
        <p  class="text" id="get_from">--.....</p>
    </div>
    
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <label for="fileInput" class="custom-file-upload">
                <i class="fa fa-upload"></i> 选择文件
            </label>
            <input type="file" id="fileInput" accept="image/*">

            
            <div class="button-container">
                <button id="addButton">
                    <i class="fa fa-plus"></i> 添加
                </button>
                <button id="cancelButton">
                    <i class="fa fa-times"></i> 取消
                </button>
            </div>
        </div>
    </div>
    <div class="sidebar">
        <h3>推荐频道</h3>
        <ul style="opacity: 1;will-change: auto;transform: none;text-shadow: skyblue 2px 2px 1px;color:#00A1D6;position: relative;">
            <li><a href="musicdownload.html">免费音乐下载</a></li>
            <li><a href="#" onclick="openpicture()">图册</a></li>
            <li><a href="#" id="uploadButton">上传</a></li>
            <li><a href="chengxu.html">程序</a></li>
        </ul>
    </div>
</div>


<div class="profile-pic">
    <img src="/picture/headpicture/NoHead.png" alt="无头像" id="headpicture" onclick="imgchoose()">
</div>
<!--<iframe src="mingxie.html" width="100%" height="500px" frameborder="0" class="container"></iframe>-->
<!-- <iframe style="width: 700px;height: 400px;" src="https://www.bilibili.com/blackboard/live/live-activity-player.html?cid=1922214722&quality=0" frameborder="no"    framespacing="0" scrolling="no" allow="autoplay; encrypted-media" allowfullscreen="true"></iframe> -->
<footer>
    <p>&copy; 2024 Apollo. 保留所有权利。</p>
</footer>
    <script>
        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function fetchHitokoto() {
            while(true){
                try {
                    const response = await fetch('https://international.v1.hitokoto.cn/?c=a&c=b&c=c&c=d&c=e&c=f&c=g&c=h&c=i&c=j&c=k&c=l');
                    const data = await response.json();
                    const hitokoto = data.hitokoto;
                    const from = "--《" + data.from + "》";
                    document.getElementById("get_from").textContent = '';
                    document.getElementById("get_text").textContent = '';
                    const get_text = document.getElementById('get_text');
                    await toput(hitokoto, get_text);  
                    document.getElementById("get_from").textContent = from;
                    await waittext(hitokoto,20,get_text); 
                    
                    document.getElementById("get_from").textContent = '';
                    await reput(hitokoto,get_text);
                    
                    await waittext("",23,get_text);
                    document.getElementById("get_text").textContent ='';
                } catch (error) {
                    document.getElementById("get_from").textContent ='...';
                    document.getElementById("get_text").textContent ='...';
                    await wait(10000);
                }
            }
        }

        async function toput(text, element) {
            for (let i = 0; i < text.length; i++) {
                if (i%2==0){
                    element.textContent = text.slice(0, i + 1)+"|"; // 显示到当前字符
                    await wait(150); 
                }else{
                    element.textContent = text.slice(0, i + 1)+""; // 显示到当前字符
                    await wait(150); 
                }
                
            }
        }
        async function waittext(text,ci,element,waittime=190){
            for (let i=0;i<ci;i++){
                element.textContent = text+"|";
                await wait(waittime);
                element.textContent = text;
                await wait(waittime);
            }
        }
        async function reput(text, element) {
            for (let i = text.length; i >0; i--) {
                element.textContent = text.slice(0, i-1)+"|"; // 显示到当前字符
                await wait(100); 
            }
        }
        fetchHitokoto();
        
    </script>
    <script>
        document.getElementById('uploadButton').onclick = function() {
            document.getElementById('modal').style.display = 'block';
        }
        
        document.getElementById('closeModal').onclick = function() {
            document.getElementById('modal').style.display = 'none';
        }
        
        document.getElementById('cancelButton').onclick = function() {
            document.getElementById('modal').style.display = 'none';
        }
        
        document.getElementById('addButton').onclick = function() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
        
            if (file) {
                const formData = new FormData();
                formData.append('image', file);
        
                
                fetch('/upload', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    alert('图片上传成功！');
                    document.getElementById('modal').style.display = 'none';
                })
                .catch(error => {
                    console.error('上传失败:', error);
                    alert('图片上传失败！');
                });
            } else {
                alert('请先选择一张图片。');
            }
        }
        
        
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
    <script>
        async function ChangBackPicture() {
            var min = 1;
            var max = 4;
            var len = Math.floor(Math.random() * (max-min+1)) + min;
            let u = `/picture/backpicture/${len}.jpg`;
            const style = document.getElementById('dynamic-style');
            // 设置新的背景图片
            style.innerHTML = `body {
                font-family: 'MyCustomFont', sans-serif;
                margin: 0;
                height: 100vh;
                background-image: url('${u}');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
            }`;
        }

    </script>
    <script>
        function imgchoose(){
            window.location.href="me.html";
        }
        function openpicture(){
            headsrc = document.getElementById("headpicture").src;
            
            window.location.href=`zuowen.html?src=${headsrc}`;
        }
    </script>
</body>
</html>
