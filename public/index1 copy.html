<!DOCTYPE html>
<html>
<head>
    <title>用户注册</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div class="container">
        <h1>用户注册</h1>
        <form id="registerForm">
            <div>
                <label for="username">用户名:</label>
                <input type="text" id="username" required>
            </div>
            <div>
                <label for="password">密码:</label>
                <input type="password" id="password" required>
            </div>
            <div>
                <label for="email">邮箱(可选):</label>
                <input type="email" id="email">
            </div>
            <button type="submit">注册</button>
        </form>
        <div id="message"></div>
    </div>

    <!-- 引入 LeanCloud SDK -->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.13.2/dist/av-min.js"></script>
    <script>
        // // 初始化 LeanCloud SDK
        // AV.init({
        //     appId: 'XNHZIbsBW0FcZW7qwYTC6AWn-MdYXbMMI',          // 替换为你的 App ID
        //     appKey: 'TADJ0WerH7mHPzvzqvHPWEX9'      // 替换为你的 App Key
        // });
        var myHeaders = new Headers();
        myHeaders.append("X-LC-Id", "{XNHZIbsBW0FcZW7qwYTC6AWn-MdYXbMMI}");
        myHeaders.append("X-LC-Key", "{TADJ0WerH7mHPzvzqvHPWEX9}");
        myHeaders.append("Content-Type", "application/json");

        const name=document.getElementById("username").value;
        const password=document.getElementById("password").value;



        var raw = JSON.stringify({
        "username": name,
        "password": password
        });

        var requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: raw,
        redirect: 'follow'
        };

        fetch("/1.1/users", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));
    </script>
</body>
</html>